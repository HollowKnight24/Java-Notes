# 系统调用
进程分为用户态和系统态（内核态），用户态能读取用户程序的资源，系统态可以读取计算机的任何资源。  
我们的程序一般都运行在用户态，当需要调用到系统态的功能时，就需要进行系统调用。  
系统调用的功能：  
设备管理，完成设备的请求与释放。  
文件管理，完成文件的读写等操作。  
进程控制，完成进程的创建，撤销，唤醒等。  
进程通信，完成进程之间消息或信号的传递。  
内存管理，完成内存的分配和回收。  

# 进程和线程
进程是系统进行资源分配和调度的基本单位。  
线程是进程划分的更小运行单位，一个进程执行中会产生多个线程，进程之间相互独立，而同一进程中的线程会相互影响。  
从JVM来看，一个进程拥有多个线程，并且线程共享进程的堆、方法区（jdk1.8后是直接内存里的元空间）以及直接内存，每个线程拥有自己的程序计数器、虚拟机栈、本地方法栈。  

# 进程状态
5种状态：  
创建状态：进程正在被创建。  
就绪状态：进程处于准备运行的状态，等分配到所需资源即可运行。  
运行状态：正在处理器上运行。  
阻塞状态：等待某一事件或资源而暂停运行，如IO操作完成。  
结束状态：进程从系统中消失。  

# 进程通信 
管道：只能在父子进程或兄弟进程之间，半双工通信（单向交替传输）。  
命名管道：用于任意进程之间，遵守FIFO。  
消息队列：独立于读写进程存在，避免了FIFO的同步阻塞问题，可根据消息类型选择接收消息。  
信号量：计数器，用于多进程对共享数据访问的同步问题。  
共享内存：多个线程可访问同一块内存空间，可及时看到共享内存中数据的更新。  
套接字：用于客户端和服务端之间的通信，可看作不同主机间的通信。  

# 线程同步
同步是多个线程对共享资源的并发执行，同步线程应有一定的先后执行顺序，避免资源使用冲突。  
同步方式：  
互斥量：互斥对象机制，只有拥有互斥对象的线程才能访问公共资源。  
信号量：允许同一时刻多个线程访问同一资源，但要控制最大线程数量。  
事件：通过通知来保持多线程同步。  

# 进程调度算法
先来先服务FCFS：按请求顺序进行调度。  
短作业优先SJF：按运行事件最短的顺序调度。  
时间片轮转：所有就绪进程以FCFS原则成队列，每次调度时，分配给队首进程一个时间片，时间片用完就停止进程执行，送往队尾。  
优先级调度：为进程设置优先级，按优先级调度。  
多级反馈队列：时间片轮转和优先级调度的结合，多个具有优先级的队列，每个队列采用时间片轮转，进程在第一个队列执行完后，会被移到下一个队列，每个队列优先级不同，最上的优先级最高，只有上面队列的进程都执行完了才会轮到下一个队列。  

# 内存管理
内存的分配与回收，地址转换即逻辑地址转化为物理地址。  

内存管理机制  
连续分配管理：分配连续内存空间，如块式管理。  
非连续分配管理：离散内存空间，如页式和段式，段页式。  

块式管理：将内存分为固定大小的块，每个块分配给一个进程，块中未被利用的即碎片。  
页式管理：将内存分为大小相等固定的一页一页的形式，划分力度比块大，减少碎片，通过页表对应逻辑地址和物理地址。  
段式管理：将内存分为一段一段的大小，每段可动态增长，通过段表对应逻辑和物理地址。  
段页式管理：现将内存分类若干段，每个段分成若干页。  

快表和多级页表  
快表：加快虚拟地址到物理地址的转换速度，作为页表的高速缓冲存储器cache，根据虚拟地址的页号查快表，如果该页在快表中，直接读取相应的物理地址，否则访问内存中的页表，再从页表得到物理地址，同时将该页表的映射加到快表中。当快表快满时，按照一定的淘汰策略淘汰掉快表中的页。  

多级页表：避免页表一直放在内存中占空间，分为多级把真正用到的页表调入内存中，节省内存空间，但是寻址时间长，以时间换空间。  

分页和分段机制  
共同点：都是为了提高内存利用率，减少碎片，都是离散存储。  
区别：页的大小固定，段不固定。分页仅满足内存管理需求，分段还有逻辑信息。  

虚拟地址和物理地址  
编程碰到的一般都是虚拟地址，物理地址是真实物理内存中的地址。  

虚拟地址：避免直接访问和操作物理内存。  

# 虚拟内存
使应用程序认为自己拥有连续可用的内存，实际上通常是离散的物理碎片。  
定义了一个连续的虚拟地址空间，把内存扩展到了硬盘。  

实现方式  
请求分页存储管理：作业开始运行前，仅装入当前要执行的部分即可，运行过程中发现需要的页不在内存中，则通过对应的页面置换算法将需要的页调入主存，不需要的调到外存。  
请求分段存储管理：与分页类似。  
请求段页式存储管理  

# 页面置换算法
OPT（最佳页面置换算法）：置换最长时间内不被访问的页面，理想情况，不可能实现。  
FIFO（先进先出）：先进入的先淘汰。  
LRU（最近最久未使用）：淘汰最近最久未使用的页面。  
